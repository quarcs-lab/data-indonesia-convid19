legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "gdp_q2_qtq"), id = "province", palette=list("Browns", "Blues"), title=c("GDP growth Q2-2020 (yoy)", "GDP growth Q2-2020 (qtq)")) +
tm_fill(style="kmeans") +
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "gdp_q2_qtq"), id = "province", palette=list("Reds", "Blues"), title=c("GDP growth Q2-2020 (yoy)", "GDP growth Q2-2020 (qtq)")) +
tm_fill(style="kmeans") +
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "gdp_q2_qtq"), id = "province", palette=list("Oranges", "Greens"), title=c("GDP growth Q2-2020 (yoy)", "GDP growth Q2-2020 (qtq)")) +
tm_fill(style="kmeans") +
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "gdp_q2_qtq"), id = "province", palette=list("Reds", "Greens"), title=c("GDP growth Q2-2020 (yoy)", "GDP growth Q2-2020 (qtq)")) +
tm_fill(style="kmeans") +
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "gdp_q2_qtq"), id = "province", palette=list("Reds", "Blues"), title=c("GDP growth Q2-2020 (yoy)", "GDP growth Q2-2020 (qtq)")) +
tm_fill(style="kmeans") +
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "THS_share_gdp"), id = "province", palette=list("Reds", "Greens"), title=c("GDP growth Q2-2020 (yoy)", "THS share to GDP (%)")) +
tm_fill(style="kmeans")+
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "THS_share_gdp"), id = "province", palette=list("Reds", "Blues"), title=c("GDP growth Q2-2020 (yoy)", "THS share to GDP (%)")) +
tm_fill(style="kmeans")+
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
ExPanD(
df,
#df_def = df_definitions,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data. Available at https://rpubs.com/haginta/covid19-econ-impacts-indonesia"
)
ExPanD(
df,
#df_def = df_definitions,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data. Available at https://rpubs.com/haginta/covid19-econ-impacts-indonesia")
)
ExPanD(
df,
#df_def = df_definitions,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data. Available at https://rpubs.com/haginta/covid19-econ-impacts-indonesia)"
)
ExPanD(
df,
#df_def = df_definitions,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Chani, R. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data. Also availabe at https://rpubs.com/haginta/covid19-econ-impacts-indonesia")
)
ExPanD(
df,
#df_def = df_definitions,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.
</br>
</br>
Suggested citation: Harry, A. Chani, R. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data. Also availabe at https://rpubs.com/haginta/covid19-econ-impacts-indonesia")
)
ExPanD(
df,
#df_def = df_definitions,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.
</br>
</br>
Suggested citation: Harry, A. Chani, R. Mendez, C. (2020). Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data.")
)
knitr::opts_chunk$set(
echo = TRUE,
message = FALSE,
warning = FALSE
)
library(tidyverse)
library(ExPanDaR)
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(ggplot2)
library(tmaptools)
library(leaflet)
options(prompt="R> ", digits=3, scipen=999)
library(readxl)
data <- read_excel("explore expandr.xlsx",
sheet = "Sheet1")
View(data)
df <- data %>% select(-c(4:7,9:12))
library(readr)
df_definitions <- read_delim("df_def.csv", ";", escape_double = FALSE,
trim_ws = TRUE)
df_definitions
View(df)
df(,-1)
df(-c(1))
df(-c(,1))
df(-c[,1])
df1 <- df %>% select(-c(1))
View(df1)
library(readr)
df_def1 <- read_delim("df_def1.csv", ";", escape_double = FALSE,
trim_ws = TRUE)
df_def1
ExPanD(
df1,
df_def = df_def1,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data")
)
df1 <- df %>% select(-c(1)) %>%
mutate(Prov = "province")
df1 <- df %>% select(-c(1)) %>%
mutate(Prov = province)
df1 <- df1 %>%
select(Prov, everything())
library(readr)
df_def1 <- read_delim("df_def1.csv", ";", escape_double = FALSE,
trim_ws = TRUE)
df_def1
ExPanD(
df1,
df_def = df_def1,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data")
)
ExPanD(
df1,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data")
)
library(readr)
df_def1 <- read_delim("df_def1.csv", ";", escape_double = FALSE,
trim_ws = TRUE)
df_def1
ExPanD(
df1,
df_def = df_def1,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data")
)
df1 <- df1 %>%
select(Prov, everything()) %>%
select(-province,province)
library(readr)
df_def1 <- read_delim("df_def1.csv", ";", escape_double = FALSE,
trim_ws = TRUE)
df_def1
ExPanD(
df1,
df_def = df_def1,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 outbreak and its economic impacts: An interactive exploration on Indonesian provincial data")
)
ExPanD(
df1,
df_def = df_def1,
export_nb_option = TRUE,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data")
)
config_list_fromRDS <- readRDS("covid19.RDS")
ExPanD(
df1,
df_def = df_1,
export_nb_option = TRUE,
config_list = config_list_fromRDS,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data")
)
ExPanD(
df1,
df_def = df_def1,
export_nb_option = TRUE,
config_list = config_list_fromRDS,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data")
)
ExPanD(
df1,
df_def = df_def1,
export_nb_option = TRUE,
config_list = config_list_fromRDS,
title = "Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data",
abstract = paste("The coronavirus (Covid-19) outbreaks that led to a serious health crisis has brought major disruptions on the economy in many countries, including Indonesia. Firstly identified in early March 2020, the virus outbreaks has started to affect Indonesian economy in Q1-2020. Yet the situation is even worse in Q2-2020. How bad is that? Find out more with this web application, which is intended to provide handy interactive exploration on the economic impacts of Covid-19 across Indonesian provinces.)
</br>
</br>
Suggested citation: Harry, A. Cani, R.M. Mendez, C. (2020). Covid-19 pandemic and its economic impacts: An interactive exploration on Indonesian provincial data")
)
knitr::opts_chunk$set(
echo = TRUE,
message = FALSE,
warning = FALSE
)
library(tidyverse)
library(ExPanDaR)
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(ggplot2)
library(tmaptools)
library(leaflet)
options(prompt="R> ", digits=3, scipen=999)
library(readxl)
data <- read_excel("explore expandr.xlsx",
sheet = "Sheet1")
View(data)
df <- data %>% select(-c(4:7,9:12))
library(readr)
df_definitions <- read_delim("df_def.csv", ";", escape_double = FALSE,
trim_ws = TRUE)
df_definitions
map <- read_sf("province border.shp")
covid_map <- inner_join(
df,
map,
by = "ID"
)
covid_map
covid_map1 <- st_as_sf(covid_map)
tmap_mode("view")
tm_shape(covid_map1) +
tm_fill("gdp_q2_yoy",
palette = "viridis",
id="province",
popup.vars=c("case_chg", "rate_chg", "job_loss", "mob_work", "gdp_q2_yoy")
) +
tm_legend(outside=TRUE) +
tm_layout(frame = FALSE)
tmap_mode("view")
tm_shape(covid_map1) +
tm_fill("gdp_q2_yoy",
style = "quantile",
palette = "blues",
id="province",
popup.vars=c("case_chg", "rate_chg", "job_loss", "mob_work", "gdp_q2_yoy", "gdp_q2_qtq")) +
tm_borders(alpha=.4) +
tm_legend(outside=TRUE) +
tm_layout(frame = FALSE)
tmap_mode("view")
tm_shape(covid_map1) +
tm_fill("gdp_q2_yoy",
style = "quantile",
palette = "Blues",
id="province",
popup.vars=c("case_chg", "rate_chg", "job_loss", "mob_work", "gdp_q2_yoy", "gdp_q2_qtq")) +
tm_borders(alpha=.4) +
tm_legend(outside=TRUE) +
tm_layout(frame = FALSE)
tmap_mode("view")
tm_shape(covid_map1) +
tm_fill("gdp_q2_yoy",
style = "quantile",
palette = "viridis",
id="province",
popup.vars=c("case_chg", "rate_chg", "job_loss", "mob_work", "gdp_q2_yoy", "gdp_q2_qtq")) +
tm_borders(alpha=.4) +
tm_legend(outside=TRUE) +
tm_layout(frame = FALSE)
tm_shape(covid_map1) +
tm_fill("gdp_q2_yoy",
palette = "viridis",
id="province",
popup.vars=c("case_chg", "rate_chg", "job_loss", "mob_work", "gdp_q2_yoy", "gdp_q2_qtq")) +
tm_borders(alpha=.4) +
tm_legend(outside=TRUE) +
tm_layout(frame = FALSE)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)
library(ExPanDaR)
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
options(prompt="R> ", digits=3, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)
library(ExPanDaR)
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
options(prompt="R> ", digits=3, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)
library(ExPanDaR)
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
options(prompt="R> ", digits=3, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)  # Modern data science workflow
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)  # Thematic Maps Tools
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)    # Interactive web maps
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
# Change the presentation of decimal numbers to 4 and avoid scientific notation
options(prompt="R> ", digits=4, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)  # Modern data science workflow
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)  # Thematic Maps Tools
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)    # Interactive web maps
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
# Change the presentation of decimal numbers to 4 and avoid scientific notation
options(prompt="R> ", digits=4, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)
library(ExPanDaR)
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
options(prompt="R> ", digits=3, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)
library(ExPanDaR)
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
options(prompt="R> ", digits=3, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)
library(ExPanDaR)
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)
library(rgdal)      # Bindings for the Geospatial Data Abstraction
library(rgeos)      # Interface to Geometry Engine - Open Source
options(prompt="R> ", digits=3, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)  # Modern data science workflow
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)  # Thematic Maps Tools
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)    # Interactive web maps
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
library(ExPanDaR)
# Change the presentation of decimal numbers to 4 and avoid scientific notation
options(prompt="R> ", digits=4, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)  # Modern data science workflow
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)  # Thematic Maps Tools
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)    # Interactive web maps
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
library(ExPanDaR)
# Change the presentation of decimal numbers to 4 and avoid scientific notation
options(prompt="R> ", digits=4, scipen=999)
knitr::opts_chunk$set(echo = TRUE, warning=FALSE)
library(tidyverse)  # Modern data science workflow
library(sf)         # Simple features for R
library(tmap)       # Thematic Maps
library(tmaptools)  # Thematic Maps Tools
library(RColorBrewer) # ColorBrewer Palettes
library(leaflet)    # Interactive web maps
library(rgdal)      # Bindings for the Geospatial Data Abstraction Library
library(rgeos)      # Interface to Geometry Engine - Open Source
library(ExPanDaR)
# Change the presentation of decimal numbers to 4 and avoid scientific notation
options(prompt="R> ", digits=4, scipen=999)
library(readxl)
data <- read_excel("explore expandr.xlsx",
sheet = "Sheet1")
View(data)
df <- data %>% select(-c(4:7,9:12))
library(readr)
df_definitions <- read_delim("df_def.csv", ";", escape_double = FALSE,
trim_ws = TRUE)
df_definitions
map <- read_sf("province border.shp")
covid_map <- inner_join(
df,
map,
by = "ID"
)
covid_map
covid_map1 <- st_as_sf(covid_map)
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("case_chg", "rate_chg"), id = "province", palette=list("Reds", "Greens"), title=c("Change in number of cumulative cases (Mar to Jun)", "Change in rate of cumulative cases (Mar to Jun)")) +
tm_fill(style="kmeans") +
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("job_loss", "mob_work"), id = "province", palette=list("Blues", "Reds"), title=c("Number of jobs affected", "Mobility to work compared to baseline")) +
tm_fill(style="kmeans") +
tm_layout(legend.title.size = 0.5,
legend.text.size = 0.4,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "gdp_q2_qtq"), id = "province", palette=list("Reds", "Blues"), title=c("GDP growth Q2-2020 (yoy)", "GDP growth Q2-2020 (qtq)")) +
tm_fill(style="kmeans") +
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("plot")
tm_shape(covid_map1) +
tm_polygons(c("gdp_q2_yoy", "THS_share_gdp"), id = "province", palette=list("Reds", "Blues"), title=c("GDP growth Q2-2020 (yoy)", "THS share to GDP (%)")) +
tm_fill(style="kmeans")+
tm_layout(legend.title.size = 0.6,
legend.text.size = 0.5,
legend.position = c("left","bottom"))
tmap_mode("view")
tm_shape(covid_map1) +
tm_fill("gdp_q2_yoy",
palette = "viridis",
id="province",
popup.vars=c("case_chg", "rate_chg", "job_loss", "mob_work", "gdp_q2_yoy", "gdp_q2_qtq")) +
tm_borders(alpha=.4) +
tm_legend(outside=TRUE) +
tm_layout(frame = FALSE)
